# MCM Thesis LaTeX Template Reference

## Purpose
This reference provides the standard `mcmthesis` document class configuration and best practices for MCM/ICM papers. Use this when setting up your LaTeX project to ensure compliance with competition formatting requirements.

---

## Document Class Setup

### Basic Configuration
```latex
\documentclass{mcmthesis}
\mcmsetup{
    CTeX = false,              % Set to true only if using Chinese
    tcn = 1111111,             % Your Team Control Number
    problem = A,               % Problem letter (A/B/C/D/E/F)
    sheet = true,              % Generate summary sheet
    titleinsheet = true,       % Include title in summary
    keywordsinsheet = true,    % Include keywords in summary
    titlepage = false,         % No separate title page
    abstract = true            % Include abstract environment
}
```

### Essential Packages
```latex
% Font
\usepackage{palatino}          % Professional serif font (recommended)

% Math and symbols
\usepackage{amsmath, amssymb, amsthm}

% Graphics
\usepackage{graphicx}
\usepackage{subfig}            % For subfigures (use \subfloat)

% Tables
\usepackage{booktabs}          % Professional table lines
\usepackage{threeparttable}    % Tables with footnotes
\usepackage{siunitx}           % Numerical alignment in tables

% Algorithms
\usepackage{algorithm}
\usepackage{algpseudocode}

% Layout
\usepackage{indentfirst}       % Indent first paragraph
\usepackage{float}             % Better float control

% AI Report (if needed)
\usepackage{mdframed}          % Framed boxes for AI output

% Other
\usepackage{hyperref}          % Clickable references
\usepackage{cite}              % Citation formatting
```

### Paragraph Formatting
```latex
\setlength{\parindent}{2em}    % 2em paragraph indent

% Optional: Custom citation format (superscript)
\makeatletter
\renewcommand\@cite[1]{\textsuperscript{[#1]}}
\makeatother
```

### SIunitx Configuration (for tables)
```latex
\sisetup{
    table-number-alignment = center,
    round-mode = places,
    round-precision = 2
}
```

---

## Document Structure

### Complete Template Skeleton
```latex
\documentclass{mcmthesis}
\mcmsetup{CTeX = false, tcn = 1111111, problem = A,
          sheet = true, titleinsheet = true, keywordsinsheet = true,
          titlepage = false, abstract = true}

% Packages (see above)
\usepackage{palatino}
% ... other packages ...

% Title
\title{Your Paper's Title}

\begin{document}

% ============================================================================
% SUMMARY SHEET (Automatically generated by mcmthesis)
% ============================================================================
\begin{abstract}
[Your summary text here - this appears on the summary sheet]

[Optional: Include a key equation if it's central to your work]
\begin{equation}
    [Your equation]
\end{equation}

\begin{keywords}
keyword1; keyword2; keyword3; keyword4; keyword5
\end{keywords}
\end{abstract}

\maketitle

% ============================================================================
% TABLE OF CONTENTS
% ============================================================================
\tableofcontents
\thispagestyle{empty}
\newpage

% ============================================================================
% MAIN PAPER
% ============================================================================

\section{Introduction}
\subsection{Background}
\subsection{Literature Review}
\subsection{Restatement of the Problem}
\subsection{Our Work}

\section{Notations and Assumptions}
\subsection{Notations}
[Notation table here]

\subsection{Assumptions}
[Assumptions with justifications]

\section{Analysis of the Problem}
[Problem analysis]

\section{Model Development}
\subsection{Data Preparation}
\subsubsection{Data Cleaning}
\subsubsection{Data Visualization}

\subsection{Model 1: [Name]}
\subsubsection{Model Formulation}
\subsubsection{Parameter Estimation}
\subsubsection{Validation}

\subsection{Model 2: [Name]}
[Similar structure]

\section{Results}
[Results with figures and tables]

\section{Sensitivity Analysis}
[Sensitivity analysis]

\section{Conclusions}
[Conclusions]

\section{Strengths and Weaknesses}
\subsection{Strengths}
\subsection{Weaknesses}

% ============================================================================
% REFERENCES
% ============================================================================
\begin{thebibliography}{99}
\bibitem{1} Author. Title. Journal, Year.
% ... more references ...
\end{thebibliography}

% ============================================================================
% APPENDICES
% ============================================================================
\begin{appendices}

\section{First Appendix}
[Code, additional figures, etc.]

\lstinputlisting[language=Python]{./code/script.py}

\end{appendices}

% ============================================================================
% AI USAGE REPORT (MANDATORY for 2024+)
% ============================================================================
\newpage
\section*{\centering Report on Use of AI}
\subsection*{Tool Name}
\textbf{Query:} [Your prompt] \par
\textbf{Output:}
\begin{mdframed}[
    linewidth=2pt,
    linecolor=black,
    innertopmargin=10pt,
    innerbottommargin=10pt,
    innerleftmargin=10pt,
    innerrightmargin=10pt,
    skipabove=5pt,
    skipbelow=5pt,
    backgroundcolor=gray!20
]
[AI output text]
\end{mdframed}

\end{document}
```

---

## Section-Specific Templates

### Introduction with Flow Diagram
```latex
\section{Introduction}

\subsection{Background}
[2-3 paragraphs of context]

\subsection{Literature Review}
[Review of existing work]

\subsection{Restatement of the Problem}
The problem requires us to [restate]. Specifically:
\begin{itemize}
    \item Objective 1: [description]
    \item Objective 2: [description]
    \item Objective 3: [description]
\end{itemize}

\subsection{Our Work}
To address these challenges, we develop a comprehensive framework:

\begin{enumerate}
    \item Data Preparation: [brief description]
    \item Model Construction: [brief description]
    \item Model Validation: [brief description]
    \item Application: [brief description]
\end{enumerate}

Figure \ref{fig:flowchart} illustrates the overall workflow.

\begin{figure}[htbp]
    \centering
    \includegraphics[width=0.9\textwidth]{figures/flowchart.png}
    \caption{Overall workflow and model structure}
    \label{fig:flowchart}
\end{figure}
```

### Notation Table (Three-Column Format)
```latex
\subsection{Notations}

\begin{table}[htbp]
    \centering
    \caption{Notation and Symbols}
    \label{tab:notation}
    \begin{threeparttable}
    \begin{tabular}{cll}
        \toprule
        \textbf{Symbol} & \textbf{Definition} & \textbf{Unit} \\
        \midrule
        $V$ & Wear volume & mm$^3$ \\
        $\lambda$ & Weathering rate constant & year$^{-1}$ \\
        $\mu$ & Mean wear depth & mm \\
        \bottomrule
    \end{tabular}
    \begin{tablenotes}
        \footnotesize
        \item Note: ${\ast}$ denotes significance at the 5\% level.
    \end{tablenotes}
    \end{threeparttable}
\end{table}
```

### Assumptions with Justifications
```latex
\subsection{Assumptions}

To simplify the problem while maintaining realism, we make the following assumptions:

\begin{enumerate}
    \item \textbf{Assumption 1}: [Clear statement]
    
    \textit{Justification}: [Detailed reasoning with references or data]
    
    \item \textbf{Assumption 2}: [Clear statement]
    
    \textit{Justification}: [Specific explanation]
    
    % Continue for 3-7 assumptions
\end{enumerate}
```

---

## Figure and Table Templates

### Single Figure
```latex
\begin{figure}[htbp]
    \centering
    \includegraphics[width=0.8\textwidth]{figures/result.png}
    \caption{Detailed caption explaining what the figure shows. 
    Key observations include [highlight important features].}
    \label{fig:result}
\end{figure}

As shown in Figure \ref{fig:result}, [interpretation].
```

### Subfigures (Side-by-Side)
```latex
\begin{figure}[htbp]
    \centering
    \subfloat[Scenario A]{
        \includegraphics[width=0.45\textwidth]{figures/scenario_a.png}
        \label{fig:scenario_a}
    }
    \hfill
    \subfloat[Scenario B]{
        \includegraphics[width=0.45\textwidth]{figures/scenario_b.png}
        \label{fig:scenario_b}
    }
    \caption{Comparison of two scenarios. (a) shows [description]. 
    (b) shows [description].}
    \label{fig:scenarios}
\end{figure}

Figure \ref{fig:scenarios} compares [aspect]. 
Specifically, Figure \ref{fig:scenario_a} demonstrates [finding].
```

### Professional Table with siunitx
```latex
\begin{table}[htbp]
    \centering
    \caption{Performance Metrics}
    \label{tab:performance}
    \begin{tabular}{l S[table-format=3.2] S[table-format=2.3] S[table-format=1.4]}
        \toprule
        \textbf{Method} & {\textbf{Accuracy (\%)}} & {\textbf{RMSE}} & {\textbf{R$^2$}} \\
        \midrule
        Baseline & 85.23 & 12.456 & 0.8234 \\
        Method A & 89.45 & 10.123 & 0.8567 \\
        Our Model & 92.67 & 8.234 & 0.9012 \\
        \bottomrule
    \end{tabular}
\end{table}
```

---

## Algorithm Template
```latex
\begin{algorithm}[htbp]
    \caption{Your Algorithm Name}
    \label{alg:your_algorithm}
    \begin{algorithmic}[1]
        \State \textbf{Input:} [Input parameters]
        \State \textbf{Output:} [Output]
        \State \textbf{Initialize:} [Initialization]
        \While{$i < n$}
            \State [Operation 1]
            \If{$condition$}
                \State [Operation 2]
            \Else
                \State [Operation 3]
            \EndIf
            \State $i \gets i + 1$
        \EndWhile
        \State \textbf{Return} [Result]
    \end{algorithmic}
\end{algorithm}
```

---

## Equation Templates

### Single Numbered Equation
```latex
The model is described by:
\begin{equation}
    \frac{dx}{dt} = f(x, t)
    \label{eq:model}
\end{equation}

From Equation \eqref{eq:model}, we observe that [interpretation].
```

### Multi-line Aligned Equations
```latex
\begin{align}
    \frac{dS}{dt} &= -\beta S I \label{eq:s} \\
    \frac{dI}{dt} &= \beta S I - \gamma I \label{eq:i} \\
    \frac{dR}{dt} &= \gamma I \label{eq:r}
\end{align}
```

### Piecewise Function
```latex
\begin{equation}
    f(x) = 
    \begin{cases}
        0 & \text{if } x < 0 \\
        x^2 & \text{if } 0 \leq x < 1 \\
        1 & \text{if } x \geq 1
    \end{cases}
    \label{eq:piecewise}
\end{equation}
```

### Matrix Equation
```latex
\begin{equation}
    \mathbf{A} = \begin{pmatrix}
        a_{11} & a_{12} & a_{13} \\
        a_{21} & a_{22} & a_{23} \\
        a_{31} & a_{32} & a_{33}
    \end{pmatrix}
    \label{eq:matrix}
\end{equation}
```

---

## AI Report Section (MANDATORY)

### Standard Format
```latex
\newpage
\section*{\centering Report on Use of AI}

\subsection*{OpenAI ChatGPT GPT-4}

\textbf{Query 1:} [Your exact prompt]

\textbf{Output 1:}
\begin{mdframed}[
    linewidth=2pt,
    linecolor=black,
    innertopmargin=10pt,
    innerbottommargin=10pt,
    innerleftmargin=10pt,
    innerrightmargin=10pt,
    skipabove=5pt,
    skipbelow=5pt,
    backgroundcolor=gray!20
]
[Full AI output text]
\end{mdframed}

\textbf{Verification:} [What you checked]

\textbf{Revision:} [What you changed]

\textbf{Final Usage:} [How much was used in final paper]

\vspace{1em}

% Repeat for additional interactions
```

---

## Memo/Letter Format (When Required)

### Memo Setup
```latex
\documentclass{mcmthesis}
\mcmsetup{
    CTeX = false,
    tcn = 1111111,
    problem = A,
    sheet = true,
    titleinsheet = false,    % No title in memo
    keywordsinsheet = false, % No keywords in memo
    titlepage = false,
    abstract = false         % No abstract in memo
}

% Memo header
\memoto{Recipient Name and Title}
\memofrom{Team \# 1111111}
\memosubject{Subject Line}
\memodate{\today}

\begin{document}
\maketitle

% Memo body (no \section commands)
[Opening paragraph]

[Main content with clear structure]

[Closing with recommendations]

[Signature block]

\end{document}
```

---

## Code Listing Templates

### Python Code
```latex
\textbf{Python Implementation:}
\lstinputlisting[language=Python]{./code/model.py}
```

### MATLAB Code
```latex
\textbf{MATLAB Implementation:}
\lstinputlisting[language=Matlab]{./code/simulation.m}
```

### C++ Code
```latex
\textbf{C++ Implementation:}
\lstinputlisting[language=C++]{./code/algorithm.cpp}
```

---

## Common Formatting Issues and Fixes

### Issue 1: Figures Not Appearing
**Problem**: Figure floats to unexpected location
**Fix**: Use `[htbp]` or `[H]` placement
```latex
\begin{figure}[H]  % Forces "Here" placement (requires \usepackage{float})
    \centering
    \includegraphics[width=0.8\textwidth]{figure.png}
    \caption{Caption}
\end{figure}
```

### Issue 2: Table Numbers Not Aligned
**Problem**: Decimal points in table not aligned
**Fix**: Use `siunitx` package
```latex
\begin{tabular}{l S[table-format=3.2]}
    \toprule
    Item & {Value} \\
    \midrule
    A & 1.23 \\
    B & 12.3 \\
    C & 123.45 \\
    \bottomrule
\end{tabular}
```

### Issue 3: Paragraph Not Indenting
**Problem**: First paragraph after section not indented
**Fix**: Use `\usepackage{indentfirst}` and `\setlength{\parindent}{2em}`

### Issue 4: Long Equations Overflowing
**Problem**: Equation exceeds page width
**Fix**: Use `split` or `multline` environment
```latex
\begin{equation}
\begin{split}
    [Long equation part 1] \\
    &\quad + [Long equation part 2]
\end{split}
\end{equation}
```

---

## Compilation Sequence

### Standard Workflow
1. `pdflatex main.tex` (first pass - generates .aux files)
2. `bibtex main` (if using BibTeX)
3. `pdflatex main.tex` (second pass - resolves references)
4. `pdflatex main.tex` (third pass - finalizes)

### Overleaf
- Automatic compilation on save
- Check "Logs and output files" for errors
- Use "History" to revert changes if needed

---

## File Organization Best Practices

```
project/
├── main.tex                 # Main document
├── mcmthesis.cls           # Document class file
├── figures/                # All figures
│   ├── flowchart.png
│   ├── result1.png
│   └── result2.png
├── code/                   # Source code for appendix
│   ├── model.py
│   └── simulation.m
└── references.bib          # BibTeX file (if used)
```

---

## Quick Reference: Common Commands

### Text Formatting
- `\textbf{bold}` → **bold**
- `\textit{italic}` → *italic*
- `\textcolor{red}{text}` → colored text (requires `\usepackage{xcolor}`)

### Math Mode
- Inline: `$x^2$` → x²
- Display: `\[x^2\]` → centered, unnumbered
- Numbered: `\begin{equation} x^2 \end{equation}`

### Lists
- Bulleted: `\begin{itemize} \item ... \end{itemize}`
- Numbered: `\begin{enumerate} \item ... \end{enumerate}`

### Cross-References
- Label: `\label{fig:name}`
- Reference: `\ref{fig:name}` (number only)
- Reference: `\eqref{eq:name}` (equation with parentheses)

---

**Usage Note**: Copy the relevant template sections when setting up your paper. Customize placeholders (e.g., `[Your Team Number]`, `[Problem Letter]`) with your actual information. Always test compile after major changes.
